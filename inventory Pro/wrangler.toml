name = "inventory-everse"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "./dist"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "inventory-everse-db"
database_id = "a9adc311-d75a-4fb7-aab4-40cf0cfc949c"

# Optional: R2 bucket for file backups (free tier)
[[r2_buckets]]
binding = "BACKUPS"
bucket_name = "inventory-backups"

# Workers AI binding (free tier - Llama 3.1 8B + Gemma 2)
[ai]
binding = "AI"

# Vectorize binding for AI analytics (free tier)
[[vectorize]]
binding = "VECTORIZE"
index_name = "inventory-vector-index"

# Analytics Engine binding (free tier)
[[analytics_engine_datasets]]
binding = "ANALYTICS"

# NOTE: Environment variables must be set in Cloudflare Pages Dashboard:
# Settings → Environment Variables (Production, Preview, Development)
#
# Required environment variables:
# GOOGLE_SHEET_SALES_NOV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTtQR1993HKYMuY4YNXHwcJ21KAAQYU1Xk8Xk0BkF6U18IAvGk-_Wl5XFEC_cNhJnHvgFPGSNmxg9vm/pub?gid=0&single=true&output=csv"
# GOOGLE_SHEET_SALES_OCT_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTtQR1993HKYMuY4YNXHwcJ21KAAQYU1Xk8Xk0BkF6U18IAvGk-_Wl5XFEC_cNhJnHvgFPGSNmxg9vm/pub?gid=1834564973&single=true&output=csv"
# GOOGLE_SHEET_SALES_SEP_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTtQR1993HKYMuY4YNXHwcJ21KAAQYU1Xk8Xk0BkF6U18IAvGk-_Wl5XFEC_cNhJnHvgFPGSNmxg9vm/pub?gid=1396812475&single=true&output=csv"
# GOOGLE_SHEET_INVENTORY_BANGALORE_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTqDFekc9mG22gGCvrt1xgBXNLqOMBJim35x3lKQ6bkVS-tsV4pZ8ZegxVnkYwgyxtUbtuhdubxFdLm/pub?gid=450436603&single=true&output=csv"
#
# NOTE: Cron triggers for Pages Functions must be configured in the Cloudflare Dashboard:
# Workers & Pages → Your Project → Settings → Functions → Cron Triggers
# Add: "0 */3 * * *" (every 3 hours) → Target: /api/sync-sheets

# Cloudflare Access settings
# Note: Cloudflare Access is configured in the dashboard under Zero Trust
# Access policies are set there, not in wrangler.toml
